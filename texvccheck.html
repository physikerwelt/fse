<!DOCTYPE html>
<!--[if lt IE 7]><html class="lt-ie9 lt-ie8 lt-ie7" lang="en" dir="ltr"><![endif]-->
<!--[if IE 7]><html class="lt-ie9 lt-ie8" lang="en" dir="ltr"><![endif]-->
<!--[if IE 8]><html class="lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!--><html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#"><!--<![endif]-->
<head>
<meta charset="utf-8" />
<link rel="shortcut icon" href="/sites/formulasearchengine.com/files/FSE-PIC.PNG" type="image/png" />
<link rel="shortlink" href="/node/188" />
<link rel="canonical" href="/texvccheck" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<title>texvccheck: use texvc as input verification only. | Formulasearchengine</title>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_WQh4s2Yd3AZkoJ-2KGYZENmskdvBzcmhTkpVog99f3E.css" media="all" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_2Wfk5pCqGT8q0NyoUZP1fUQ65ZnhAfBrMog9FnkzVRo.css" media="all" />
<style>body.snf-gwf-open-sans #site-name{font-family :'Open Sans'}
body.ssf-gwf-open-sans #site-slogan{font-family:'Open Sans'}
body.ptf-gwf-open-sans #page-title{font-family:'Open Sans'}
body.ntf-gwf-open-sans .article-title{font-family:'Open Sans'}
body.ctf-gwf-open-sans .comment-title{font-family:'Open Sans'}
body.btf-gwf-open-sans .block-title{font-family:'Open Sans'}
.flexible-slideshow,.flexible-slideshow .article-inner,.flexible-slideshow .article-content,.flexslider{max-width:940px;}
</style>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_KGZcOm3i1wmtbgZsjo-3V9FM4wZ-5UDcpJ7Vfzmt45E.css" media="all" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_smWejqFexB_rDFKKSWlAeBFeL0wXW7QAXc0ERqON49Y.css" media="screen" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_9PqsK5c8l6O9eoDwm8W__UNdTYFwn8aMZ4GMFLgvgVw.css" media="all" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_JDGN2tj7-5rvqMs9iPiy4ZeQPSffJTJiO7ZCBBh0-dU.css" media="screen" />
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_BxuDEykWghfZVC4C4Lkw6QqG-soNPtesMdvs8oYCTYw.css" media="all" />
<link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans" media="all" />

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs.css" media="screen" />
<![endif]-->

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_F5dDLDDznkN461Wcixy86a2AxU-sZUFzvmM3dKEfGMM.css" media="screen" />
<![endif]-->

<!--[if IE 8]>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_yNGa1BdQKp2VqshF_KAN7MUZ4pGvnVgIT1gkuR4s1Ms.css" media="screen" />
<![endif]-->

<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/sites/formulasearchengine.com/files/css/css_AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs.css" media="screen" />
<![endif]-->
<script src="/sites/formulasearchengine.com/files/js/js_UWQINlriydSoeSiGQxToOUdv493zEa7dpsXC1OtYlZU.js"></script>
<script src="/sites/formulasearchengine.com/files/js/js_wvSwZjuROhqJRov2lJssS494cnGtmn15BhEbCLMK1yo.js"></script>
<script src="http://dygraphs.com/dygraph-combined.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"at_commerce","theme_token":"AakiWLNqDcaW7gVbKDQR20hzDYckapNwal9wuNbu_PE","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/themes\/at-commerce\/js\/jquery.flexslider-min.js":1,"sites\/all\/themes\/at-commerce\/js\/slider.options.js":1,"sites\/all\/themes\/at-commerce\/js\/draw.js":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/sfsmallscreen.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/modules\/superfish\/superfish.js":1,"http:\/\/dygraphs.com\/dygraph-combined.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/poll\/poll.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/themes\/adaptivetheme\/at_core\/css\/at.layout.css":1,"sites\/all\/themes\/at-commerce\/css\/styles.base.css":1,"sites\/all\/themes\/at-commerce\/css\/styles.modules.css":1,"sites\/all\/themes\/at-commerce\/css\/styles.settings.css":1,"sites\/all\/themes\/at-commerce\/color\/colors.css":1,"sites\/all\/themes\/at-commerce\/css\/styles.slideshow.css":1,"sites\/all\/themes\/at-commerce\/css\/at_commerce.responsive.style.css":1,"sites\/all\/themes\/at-commerce\/css\/at_commerce.responsive.gpanels.css":1,"\/\/fonts.googleapis.com\/css?family=Open+Sans":1,"sites\/all\/themes\/at-commerce\/css\/ie-6.css":1,"sites\/all\/themes\/at-commerce\/css\/ie-lte-7.css":1,"sites\/all\/themes\/at-commerce\/css\/ie-8.css":1,"sites\/all\/themes\/at-commerce\/css\/ie-lte-9.css":1}},"urlIsAjaxTrusted":{"\/search\/node":true},"superfish":[{"id":"1","sf":{"animation":{"opacity":"show"},"speed":"\u0027fast\u0027","autoArrows":false,"dropShadows":true,"disableHI":false},"plugins":{"smallscreen":{"mode":"window_width","addSelected":false,"menuClasses":false,"hyperlinkClasses":false,"title":"Main menu"},"supposition":false,"bgiframe":false,"supersubs":{"minWidth":"12","maxWidth":"27","extraWidth":1}}},{"id":"2","sf":{"animation":{"opacity":"show"},"speed":"\u0027fast\u0027","autoArrows":false,"dropShadows":true,"disableHI":false},"plugins":{"smallscreen":{"mode":"window_width","addSelected":false,"menuClasses":false,"hyperlinkClasses":false,"title":"Administration"},"supposition":false,"bgiframe":false,"supersubs":{"minWidth":"12","maxWidth":"27","extraWidth":1}}}],"adaptivetheme":{"at_commerce":{"layout_settings":{"bigscreen":"three-col-grail","tablet_landscape":"three-col-grail","tablet_portrait":"one-col-vert"},"media_query_settings":{"bigscreen":"only screen and (min-width:1025px)","tablet_landscape":"only screen and (min-width:769px) and (max-width:1024px)","tablet_portrait":"only screen and (min-width:481px) and (max-width:768px)"}}}});</script>
</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-188 node-type-article atv-7.x-2.0-rc3 site-name-formulasearchengine section-texvccheck color-scheme-default at-commerce  fs-medium bb-n hl-l mb-dd mma-l ia-c snc-n snw-n sna-l sns-n ssc-n ssw-n ssa-l sss-n ptc-n ptw-n pta-l pts-n ntc-n ntw-n nta-l nts-n ctc-n ctw-n cta-l cts-n btc-uc btw-n bta-l bts-n itrc-0 isrc-6 bf-l snf-gwf-open-sans ssf-gwf-open-sans mmf-sss ptf-gwf-open-sans ntf-gwf-open-sans ctf-gwf-open-sans btf-gwf-open-sans hide-ss-nav">
  <div id="skip-link" class="nocontent">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  
  <div id="header-wrapper">
    
    <div class="container clearfix">
      <header class="clearfix">

        <div id="branding" class="clearfix with-logo with-site-name with-site-slogan">
                      <div id="logo"><a href="/"><img class="site-logo" typeof="foaf:Image" src="/sites/formulasearchengine.com/files/FSE-Medium.png" alt="Formulasearchengine" /></a></div>
          
                      <hgroup>
                              <h1 id="site-name"><a href="/" title="Home page">Formulasearchengine</a></h1>
                                            <h2 id="site-slogan">Making math - the language of science - searchable</h2>
                          </hgroup>
                  </div>

        
                  <div id="nav-wrapper"><div id="menu-bar" class="nav clearfix"><nav id="block-superfish-1" class="block block-superfish menu-wrapper menu-bar-wrapper clearfix odd first last block-count-1 block-region-menu-bar block-1" >  
      <h2 class="element-invisible block-title element-invisible">Main menu</h2>
  
  <ul id="superfish-1" class="menu sf-menu sf-main-menu sf-horizontal sf-style-none sf-total-items-8 sf-parent-items-2 sf-single-items-6"><li id="menu-230-1" class="first odd sf-item-1 sf-depth-1 sf-no-children"><a href="/" class="sf-depth-1">Home</a></li><li id="menu-452-1" class="middle even sf-item-2 sf-depth-1 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="/installation" class="sf-depth-1 menuparent">Installation</a><ul><li id="menu-445-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="/installation/MediaWiki" class="sf-depth-2">MediaWiki</a></li><li id="menu-441-1" class="middle even sf-item-2 sf-depth-2 sf-no-children"><a href="/mwsd" title="How to install mwsd" class="sf-depth-2">MathWeb Search</a></li><li id="menu-440-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="/lucene-install" title="How to install Lucene-search" class="sf-depth-2">Lucene</a></li><li id="menu-498-1" class="last even sf-item-4 sf-depth-2 sf-no-children"><a href="/LaTeXML" class="sf-depth-2">LaTeXML</a></li></ul></li><li id="menu-442-1" class="middle odd sf-item-3 sf-depth-1 sf-no-children"><a href="/node" title="" class="sf-depth-1">Article List</a></li><li id="menu-524-1" class="middle even sf-item-4 sf-depth-1 sf-no-children"><a href="/Mathematical%20Language%20Processing" title="Mathematical Language Processing" class="sf-depth-1">MLP</a></li><li id="menu-706-1" class="middle odd sf-item-5 sf-depth-1 sf-no-children"><a href="/mathoid" class="sf-depth-1">Mathoid</a></li><li id="menu-623-1" class="middle even sf-item-6 sf-depth-1 sf-total-children-1 sf-parent-children-0 sf-single-children-1 menuparent"><a href="/ntcir10-math" class="sf-depth-1 menuparent">NTCIR10</a><ul><li id="menu-624-1" class="firstandlast odd sf-item-1 sf-depth-2 sf-no-children"><a href="/ntcir10-math/results/overview" title="Provides an Overview about the Results." class="sf-depth-2">Results</a></li></ul></li><li id="menu-705-1" class="middle odd sf-item-7 sf-depth-1 sf-no-children"><a href="/review" title="How to review the MediaWiki Math extension" class="sf-depth-1">REVIEW</a></li><li id="menu-704-1" class="active-trail last even sf-item-8 sf-depth-1 sf-no-children"><a href="/texvccheck" class="sf-depth-1 active">texvccheck</a></li></ul>
  </nav></div></div>
        
      </header>
    </div>
  </div>

  
  <div id="content-wrapper" class="no-secondary"><div class="container">

    
    
    
    <div id="columns"><div class="columns-inner clearfix">
      <div id="content-column"><div class="content-inner">

        
        
                <section id="main-content">

                              
          
          <div id="content"><div id="block-system-main" class="block block-system no-title odd first last block-count-2 block-region-content block-main" >  
  
  <article id="article-188" class="node node-article node-promoted article odd node-full clearfix" about="/texvccheck" typeof="sioc:Item foaf:Document" role="article">
  <div class="article-inner clearfix">

    
              <header class="clearfix">

        
                  <h1 class="node-title">
                          texvccheck: use texvc as input verification only.                      </h1>
        
                  <div class="submitted"><span property="dc:date dc:created" content="2013-10-01T18:44:58+02:00" datatype="xsd:dateTime" rel="sioc:has_creator">Submitted by <span class="username" xml:lang="" about="/user/1" typeof="sioc:UserAccount" property="foaf:name" datatype="">schubotz</span> on <time datetime="2013-10-01T18:44:58+0200" pubdate="pubdate">Tue, 10/01/2013 - 18:44</time></span></div>
        
      </header>
        <span property="dc:title" content="texvccheck: use texvc as input verification only." class="rdf-meta element-hidden"></span><span property="sioc:num_replies" content="0" datatype="xsd:integer" class="rdf-meta element-hidden"></span>
    <div class="node-content clearfix">
    <div class="field field-name-body field-type-text-with-summary field-label-hidden view-mode-full view-mode-full"><div class="field-items"><div class="field-item even" property="content:encoded">texvc the input language for formulae in wikipedia has become familiar to wide user range of wikipedia editors. Texvc accepts a selection of LaTeX commands augmented with customized macros as user input. In some cases the input is transformed to html or mathml. But in the majority texvc creates a LaTeX document that is rendered via latex to dvi and then converted to an image. The intermediate tex, dvi and aux files are cleaned up accessible after the conversion is completed.
Texvc works quite well if the goal is to get png images. However, if a more modern output is desired (MathML, SVG or a LaTeX string to be rendered in the browser via MathJAX) texvc does not help a lot, since the intermediate information is not accessible. Therefore, we started a project to decrypt the magic that happens inside the texvc ocaml code. In a second step we create a light version of texvc (texvc-light) that performs checking and expansion of the user defined commands only. After this code is proven to work, a future step might be to create a grammar e.g. using antlr. That is more flexible and can be used for a wide range of projects.

texvccheck aims to tackle the following issues with texvc:
<ul>
<li>no detailed documentation</li>
<li>no option to customize allowed input</li>
<li>no access to the tex code, used to generate png image</li>
</ul>

texvccheck (initial codename Texvc-light) removes the following features of texvc:
<ul>
<li>MathML generation</li>
<li>HTML output</li>
</ul>

<h2>decryption of texvc's ocaml magic</h2>
The list of allowed commands and transaction was extracted with a sequence of regular expressions. So no magic and no error prone manual work:
<a href="http://sdrv.ms/15w2gVw">texvc commands</a>

<h2>texvccheck</h2>
texvccheck has been merged to the MediaWiki math extension at 14th of December 2013 as part of the Math2.0.
<a href="https://git.wikimedia.org/tree/mediawiki%2Fextensions%2FMath.git/bbccb1fd274a7b112c412b7c73a93ff4aad6b391/texvccheck">code of tevccheck</a>


<h3>texvc grammar</h3>
The first attempt was to write a grammar using antlr and compile that into php code that could be run directly from the mediawiki software. We tried to use antlr and phpantrl-runtime. However this soultion (need of antlr 3 instad of 4) and the fact that phpantrl is not know to be used anywhere in production, made it unlikely that we'll proceed to research in that direction.

Comments and inspiration on reasonable tools and ways are welcome.





</div></div></div><section class="field field-name-field-tags field-type-taxonomy-term-reference field-label-above view-mode-full view-mode-full"><h2 class="field-label">Tags:&nbsp;</h2><ul class="field-items"><li class="field-item even" rel="dc:subject"><a href="/taxonomy/term/28" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">TeX</a></li><li class="field-item odd" rel="dc:subject"><a href="/taxonomy/term/32" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">TeX-Filter</a></li><li class="field-item even" rel="dc:subject"><a href="/taxonomy/term/36" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">Extension</a></li></ul></section>    </div>

          <nav class="clearfix"><ul class="links"><li class="comment_forbidden first last"><span><a href="/user/login?destination=node/188%23comment-form">Log in</a> to post comments</span></li></ul></nav>
    
    
    
  </div>
</article>

  </div></div>

        </section>

        
      </div></div>

            
    </div></div>

    
  </div></div>

  
  <div id="page-footer">
          <div id="footer-panels-wrapper"><div class="container clearfix">
        <div class="four-4x25 gpanel clearfix">
                                        <div class="region region-four-fourth"><div class="region-inner clearfix"><div id="block-block-1" class="block block-block no-title odd first last block-count-3 block-region-four-fourth block-1" ><div class="block-inner clearfix">  
  
  <div class="block-content content no-title"><p>By <a href="mailto:info@formulasearchengine.com">Moritz Schubotz</a>, Berlin 2012 (<a href="https://plus.google.com/u/0/104541687836095789339?&lt;br /&gt;&#10;   rel=author">g+</a>)</p>
</div>
  </div></div></div></div>        </div>
      </div></div>
    
          <div id="footer-wrapper"><div class="container clearfix">
        <footer class="clearfix">
          <div class="region region-footer"><div class="region-inner clearfix"><nav id="block-superfish-2" class="block block-superfish no-title odd first last block-count-4 block-region-footer block-2" ><div class="block-inner clearfix">  
  
  <div class="block-content content clearfix no-title"><ul id="superfish-2" class="menu sf-menu sf-menu-administration sf-horizontal sf-style-none sf-total-items-1 sf-parent-items-0 sf-single-items-1"><li id="menu-450-2" class="firstandlast odd sf-item-1 sf-depth-1 sf-no-children"><a href="/Impressum" title="Legeal notices" class="sf-depth-1">Impressum</a></li></ul></div>
  </div></nav></div></div>        </footer>
     </div></div>
      </div>

</div></div>
  </body>
</html>
